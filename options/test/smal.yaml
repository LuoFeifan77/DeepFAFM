# general setting
name: smal
backend: dp # DataParallel
type: FAPModel #FAPModel
num_gpu: 1 # 
gpu_idx: 7 # 
non-isometric: true #
norm_filter: false #
sm_feat: false # false
partial: false
visualize: false # true

# path
path:
  resume_state: checkpoints_ours/10000.pth  #checkpoints_ours/smal.pth 
  resume: false

# datasets
datasets:
  test_dataset:
    name: Val
    type: PairSmalDataset
    phase: test
    data_root: ../data/SMAL_r/
    category: true
    return_evecs: true
    return_faces: true
    num_evecs: 200
    return_corr: true
    return_dist: true

# network setting
networks:
  feature_extractor:
    type: DiffusionNet
    in_channels: 3
    out_channels: 256
    cache_dir: ../data/SMAL_r/diffusion
    input_type: xyz
  fmap_net:
    type: RegularizedFMNet
    bidirectional: false # false
  permutation:
    type: Similarity
    tau: 0.07  #0.07
    hard: true # true 

  #2 learning filter
  conv:
    type: Learned_Fliters
    Poly_Type: JacobiConv
    orders: 8 
    alpha: 1.0 
    learnable_bases: True #True 
    learnable_alphas: True
    normalized_bases: True
    a: 1.0
    b: 1.0
  
  # #3 combination
  comb:
    type: Combination
    orders_basis:  8 #
    output_channels: 6  #

# validation setting
val:
  metrics:
    geo_error:
      type: calculate_geodesic_error
    plot_pck:
      type: plot_pck
